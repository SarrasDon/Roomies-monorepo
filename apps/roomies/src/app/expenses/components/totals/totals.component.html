<div class="flex-row totals-wrapper">
  <ng-container *ngIf="totals$ | async as totals">
    <div class="images-wrapper">
      <span
        *ngFor="let total of totals; let i = index"
        class="img-inner-wrapper"
        [ngClass]="'chart-img-pos_' + i + ' chart-img-border_' + i"
        [style.background-color]="colorScheme.domain[i]"
      >
        <span
          class="img-container"
          [style.background-image]="
            'url(' + (userImagesDict$ | async)[total.name] + ')'
          "
        ></span>
      </span>
    </div>
    <div class="totals-chart">
      <ngx-charts-bar-horizontal
        [scheme]="colorScheme"
        [results]="totals"
        [gradient]="false"
        [xAxis]="false"
        [yAxis]="false"
        [legend]="false"
        [showGridLines]="false"
        [showDataLabel]="showDataLabel$ | async"
        [barPadding]="28"
      >
        <!-- Same as var(--bar-padding) -->
      </ngx-charts-bar-horizontal>
    </div>
  </ng-container>

  <div
    class="amount-wrapper"
    [ngClass]="'amount-wrapper_' + (balanceColor$ | async)"
    [style.width]="balanceWidth$ | async"
    animateTotalIncrease
  >
    {{ (balance$ | async)?.amount | balance }}
  </div>
</div>
